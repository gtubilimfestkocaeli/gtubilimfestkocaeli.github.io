<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTÜ Bilimfest - Ana Sayfa</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Önceki CSS stilleri aynen kalacak, sadece Filter Section güncellendi */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; overflow-x: hidden; }
        :root { --gtu-primary: #2C5F2D; --gtu-secondary: #97BC62; --gtu-accent: #FF6B35; --gtu-dark: #1A3A1B; --gtu-blue: #2874A6; }
        
        /* Header & Hero CSS (Değişmedi - Yer tutucu olarak bırakıldı) */
        header { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; background: rgba(40, 116, 166, 0.95); backdrop-filter: blur(10px); padding: 15px 0; transition: all 0.3s; }
        header.scrolled { background: rgba(40, 116, 166, 0.98); box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header-container { max-width: 1400px; margin: 0 auto; padding: 0 30px; display: flex; align-items: center; justify-content: space-between; }
        .logo-section { display: flex; align-items: center; gap: 20px; }
        .logo-section img { height: 50px; }
        nav ul { display: flex; list-style: none; gap: 35px; align-items: center; }
        nav a { color: white; text-decoration: none; font-weight: 500; transition: color 0.3s; font-size: 16px; }
        nav a:hover { color: var(--gtu-accent); }
        .header-buttons { display: flex; gap: 15px; }
        .btn { padding: 10px 25px; border-radius: 25px; text-decoration: none; font-weight: 600; transition: all 0.3s; border: none; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; }
        .btn-green { background: var(--gtu-secondary); color: white; }
        .btn-blue { background: #5DADE2; color: white; }
        .btn-green:hover, .btn-blue:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .hero-section { min-height: 100vh; background: var(--gtu-blue); position: relative; display: flex; align-items: center; overflow: hidden; }
        .hero-container { max-width: 1400px; margin: 0 auto; padding: 100px 30px 50px; display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; }
        .hero-content h1 { font-size: 72px; font-weight: 700; color: white; line-height: 1.1; margin-bottom: 25px; }
        .hero-hashtag { font-size: 48px; color: white; opacity: 0.9; margin-bottom: 30px; }
        .hero-description { font-size: 20px; color: white; opacity: 0.8; margin-bottom: 40px; line-height: 1.6; }
        .hero-buttons { display: flex; gap: 20px; }
        .btn-large { padding: 15px 40px; font-size: 18px; border-radius: 30px; }
        .btn-register { background: #D4AF37; color: white; }
        .btn-register:hover { background: #c29d2e; transform: translateY(-3px); }
        .btn-video { background: transparent; border: 2px solid white; color: white; }
        .btn-video:hover { background: rgba(255,255,255,0.1); }
        .hero-image { position: relative; }
        .hero-logo { width: 100%; max-width: 600px; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3)); animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
        .scroll-indicator { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); color: white; font-size: 14px; text-align: center; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); } 40% { transform: translateX(-50%) translateY(-10px); } 60% { transform: translateX(-50%) translateY(-5px); } }
        .scroll-indicator i { display: block; font-size: 24px; margin-top: 10px; }

        /* Events Section Styles */
        .events-section { padding: 100px 0; background: #f8f9fa; }
        .events-container { max-width: 1400px; margin: 0 auto; padding: 0 30px; }
        .section-title { text-align: center; font-size: 48px; font-weight: 700; color: #333; margin-bottom: 20px; }
        .section-subtitle { text-align: center; font-size: 20px; color: #666; margin-bottom: 40px; }

        /* GÜNCELLENEN FILTER SECTION CSS */
        .filter-wrapper {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            margin-bottom: 40px;
        }

        .filter-row {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .filter-row:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .filter-label {
            font-size: 16px;
            font-weight: 700;
            color: var(--gtu-primary);
            min-width: 120px;
        }

        .filter-tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            flex: 1;
        }

        .filter-tag {
            padding: 8px 18px;
            background: #f1f3f5;
            border: 2px solid transparent;
            border-radius: 20px;
            color: #555;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }

        .filter-tag:hover {
            background: #e9ecef;
            color: var(--gtu-primary);
        }

        .filter-tag.active {
            background: var(--gtu-secondary);
            color: white;
            border-color: var(--gtu-secondary);
        }

        /* Ana Türler için Özel Renkler */
        .filter-tag[data-type="main"].active {
            background: var(--gtu-blue);
            border-color: var(--gtu-blue);
        }

        .clear-filters-btn {
            display: block;
            margin: 20px auto 0;
            background: transparent;
            border: 2px solid var(--gtu-accent);
            color: var(--gtu-accent);
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .clear-filters-btn:hover {
            background: var(--gtu-accent);
            color: white;
        }

        /* Events Grid & Cards */
        .events-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 30px; }
        .event-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 20px rgba(0,0,0,0.1); transition: all 0.3s; cursor: pointer; }
        .event-card.hidden { display: none; }
        .event-card:hover { transform: translateY(-10px); box-shadow: 0 15px 40px rgba(0,0,0,0.2); }
        .event-image { width: 100%; height: 200px; background: linear-gradient(135deg, var(--gtu-primary) 0%, var(--gtu-secondary) 100%); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        .event-icon { width: 80px; height: 80px; fill: white; opacity: 0.9; }
        .event-content { padding: 25px; }
        .event-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px; }
        .event-tag { display: inline-block; background: #E8F5E9; color: var(--gtu-primary); padding: 4px 12px; border-radius: 12px; font-size: 11px; font-weight: 600; }
        .event-title { font-size: 20px; font-weight: 700; color: #333; margin-bottom: 15px; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .event-meta { display: flex; flex-direction: column; gap: 10px; color: #666; font-size: 14px; }
        .meta-row { display: flex; align-items: center; gap: 8px; }
        .meta-icon { color: var(--gtu-blue); width: 20px; }

        /* Modal CSS (Değişmedi) */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); overflow-y: auto; }
        .modal.active { display: flex; align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; border-radius: 20px; max-width: 800px; width: 100%; max-height: 90vh; overflow-y: auto; position: relative; animation: modalSlideIn 0.3s ease-out; }
        @keyframes modalSlideIn { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .modal-header { padding: 30px; background: linear-gradient(135deg, var(--gtu-primary) 0%, var(--gtu-secondary) 100%); color: white; position: relative; }
        .modal-close { position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.2); border: none; color: white; font-size: 24px; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; transition: all 0.3s; }
        .modal-close:hover { background: rgba(255,255,255,0.3); transform: rotate(90deg); }
        .modal-title { font-size: 28px; font-weight: 700; margin-bottom: 15px; padding-right: 50px; }
        .modal-tags { display: flex; flex-wrap: wrap; gap: 10px; }
        .modal-tag { background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 15px; font-size: 14px; }
        .modal-body { padding: 30px; }
        .modal-info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px; }
        .info-item { display: flex; align-items: flex-start; gap: 10px; }
        .info-item i { color: var(--gtu-blue); font-size: 20px; margin-top: 2px; }
        .info-item-content { flex: 1; }
        .info-label { font-size: 12px; color: #666; margin-bottom: 3px; }
        .info-value { font-size: 16px; font-weight: 600; color: #333; }
        .modal-description { font-size: 16px; line-height: 1.8; color: #555; margin-bottom: 30px; }
        .modal-description h3 { color: #333; margin: 25px 0 15px; font-size: 20px; }
        .modal-description ul { padding-left: 25px; margin: 15px 0; }
        .modal-description li { margin: 10px 0; }
        .modal-footer { padding: 0 30px 30px; display: flex; justify-content: center; }
        .btn-modal-register { background: var(--gtu-accent); color: white; padding: 15px 50px; font-size: 18px; border-radius: 30px; border: none; cursor: pointer; font-weight: 700; transition: all 0.3s; text-decoration: none; display: inline-block; }
        .btn-modal-register:hover { background: #e55a2a; transform: translateY(-3px); box-shadow: 0 10px 25px rgba(255, 107, 53, 0.3); }

        /* Responsive */
        @media (max-width: 1024px) {
            .hero-container { grid-template-columns: 1fr; text-align: center; }
            .hero-content h1 { font-size: 56px; }
            .hero-hashtag { font-size: 36px; }
            .hero-buttons { justify-content: center; }
            .events-grid { grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); }
        }
        @media (max-width: 768px) {
            .header-container { flex-direction: column; gap: 15px; }
            nav ul { flex-wrap: wrap; justify-content: center; gap: 15px; }
            .hero-content h1 { font-size: 42px; }
            .hero-hashtag { font-size: 28px; }
            .hero-description { font-size: 16px; }
            .section-title { font-size: 36px; }
            .events-grid { grid-template-columns: 1fr; }
            .modal-content { margin: 10px; }
            .modal-title { font-size: 24px; }
            .filter-row { flex-direction: column; align-items: flex-start; }
            .filter-label { margin-bottom: 5px; }
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="header-container">
            <div class="logo-section">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='50' viewBox='0 0 50 50'%3E%3Ccircle cx='25' cy='25' r='20' fill='%232C5F2D'/%3E%3Ctext x='25' y='32' font-size='20' fill='white' text-anchor='middle' font-weight='bold'%3EGTÜ%3C/text%3E%3C/svg%3E" alt="GTÜ Logo">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='50' viewBox='0 0 140 50'%3E%3Ctext x='10' y='35' font-size='28' fill='white' font-weight='bold'%3EBİLİMFEST%3C/text%3E%3C/svg%3E" alt="Bilimfest Logo">
            </div>
            <nav>
                <ul>
                    <li><a href="#hero">Ana Sayfa</a></li>
                    <li><a href="#events">Etkinlikler</a></li>
                    <li><a href="hakkimizda.html">Hakkımızda</a></li>
                    <li><a href="haberler.html">Haberler</a></li>
                    <li><a href="galeri.html">Fotoğraf Galeri</a></li>
                    <li><a href="iletisim.html">İletişim</a></li>
                </ul>
            </nav>
            <div class="header-buttons">
                <a href="giris.html" class="btn btn-green">Giriş Yap <i class="fas fa-arrow-right"></i></a>
                <a href="kayit.html" class="btn btn-blue">Kayıt Ol <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </header>

    <section class="hero-section" id="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1>BİLİMFEST KOCAELİ<br>Başlıyor...</h1>
                <div class="hero-hashtag">#bilimseninleşenlenecek</div>
                <p class="hero-description">24 Nisan 2025 tarihinden itibaren 70+ Etkinlik sizleri bekliyor....</p>
                <div class="hero-buttons">
                    <a href="#events" class="btn btn-large btn-register">
                        <i class="fas fa-thumbs-up"></i> Şimdi Kaydol
                    </a>
                </div>
            </div>
            <div class="hero-image">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='600' viewBox='0 0 600 600'%3E%3Cdefs%3E%3ClinearGradient id='grad1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2397BC62;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%232C5F2D;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Cg%3E%3Ctext x='80' y='220' font-size='90' fill='%23FF6B35' font-weight='bold' font-style='italic' transform='rotate(-12 300 300)'%3EGTÜ%3C/text%3E%3Ctext x='100' y='340' font-size='110' fill='%23FF9800' font-weight='bold' font-style='italic' transform='rotate(-12 300 300)'%3EBilim%3C/text%3E%3Ctext x='140' y='430' font-size='100' fill='%23FFC107' font-weight='bold' font-style='italic' transform='rotate(-12 300 300)'%3EFest%3C/text%3E%3Ccircle cx='500' cy='100' r='25' fill='%23FF6B35' opacity='0.7'/%3E%3Ccircle cx='450' cy='130' r='15' fill='%23FFC107' opacity='0.6'/%3E%3Cpath d='M 480 150 L 510 140 L 520 165 Z' fill='%23FF9800' opacity='0.7'/%3E%3Ccircle cx='100' cy='480' r='35' fill='%23FF6B35' opacity='0.5'/%3E%3Ccircle cx='520' cy='500' r='28' fill='%23FFC107' opacity='0.6'/%3E%3Cpath d='M 200 80 Q 250 60 300 85' stroke='%23FF9800' stroke-width='5' fill='none' opacity='0.7'/%3E%3Cpath d='M 400 520 Q 450 500 500 520' stroke='%23FF6B35' stroke-width='4' fill='none' opacity='0.6'/%3E%3Crect x='50' y='50' width='20' height='20' fill='%2397BC62' opacity='0.5' transform='rotate(25 60 60)'/%3E%3Crect x='530' y='380' width='25' height='25' fill='%232C5F2D' opacity='0.6' transform='rotate(45 540 390)'/%3E%3C/g%3E%3C/svg%3E" alt="GTÜ Bilimfest Logo" class="hero-logo">
            </div>
        </div>
        <div class="scroll-indicator">
            Aşağı Kaydır
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>

    <section class="events-section" id="events">
        <div class="events-container">
            <h2 class="section-title">Etkinlik Programı</h2>
            <p class="section-subtitle">Aşağıdaki filtreleri kullanarak ilgi alanınıza uygun etkinlikleri bulun.</p>
            
            <div class="filter-wrapper">
                <div class="filter-row">
                    <span class="filter-label"><i class="fas fa-layer-group"></i> Etkinlik Türü:</span>
                    <div class="filter-tags-container" id="mainFilters">
                        <span class="filter-tag" data-tag="Etkinlik" data-type="main" onclick="toggleFilter('Etkinlik', 'main')">Atölye (Etkinlik)</span>
                        <span class="filter-tag" data-tag="Söyleşi" data-type="main" onclick="toggleFilter('Söyleşi', 'main')">Söyleşi</span>
                        <span class="filter-tag" data-tag="Sergi" data-type="main" onclick="toggleFilter('Sergi', 'main')">Sergi</span>
                    </div>
                </div>

                <div class="filter-row">
                    <span class="filter-label"><i class="fas fa-tags"></i> Kategori:</span>
                    <div class="filter-tags-container" id="categoryFilters">
                        <span class="filter-tag" data-tag="Siber Güvenlik" data-type="category" onclick="toggleFilter('Siber Güvenlik', 'category')">Siber Güvenlik</span>
                        <span class="filter-tag" data-tag="Kriptoloji" data-type="category" onclick="toggleFilter('Kriptoloji', 'category')">Kriptoloji</span>
                        <span class="filter-tag" data-tag="Okul Öncesi" data-type="category" onclick="toggleFilter('Okul Öncesi', 'category')">Okul Öncesi</span>
                        <span class="filter-tag" data-tag="Sanat" data-type="category" onclick="toggleFilter('Sanat', 'category')">Sanat</span>
                        <span class="filter-tag" data-tag="Bilim" data-type="category" onclick="toggleFilter('Bilim', 'category')">Bilim</span>
                        <span class="filter-tag" data-tag="Yapay Zeka" data-type="category" onclick="toggleFilter('Yapay Zeka', 'category')">Yapay Zeka</span>
                        <span class="filter-tag" data-tag="Oyun" data-type="category" onclick="toggleFilter('Oyun', 'category')">Oyun</span>
                        <span class="filter-tag" data-tag="Drama" data-type="category" onclick="toggleFilter('Drama', 'category')">Drama</span>
                        <span class="filter-tag" data-tag="Matematik" data-type="category" onclick="toggleFilter('Matematik', 'category')">Matematik</span>
                        <span class="filter-tag" data-tag="Ebeveyn" data-type="category" onclick="toggleFilter('Ebeveyn', 'category')">Ebeveyn</span>
                        <span class="filter-tag" data-tag="Psikoloji" data-type="category" onclick="toggleFilter('Psikoloji', 'category')">Psikoloji</span>
                    </div>
                </div>

                <button class="clear-filters-btn" onclick="clearAllFilters()">
                    <i class="fas fa-times"></i> Filtreleri Temizle
                </button>
            </div>

            <div class="events-grid" id="eventsGrid">
                </div>
        </div>
    </section>

    <div class="modal" id="eventModal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal()">&times;</button>
                <h2 class="modal-title" id="modalTitle"></h2>
                <div class="modal-tags" id="modalTags"></div>
            </div>
            <div class="modal-body">
                <div class="modal-info-grid" id="modalInfoGrid"></div>
                <div class="modal-description" id="modalDescription"></div>
            </div>
            <div class="modal-footer">
                <a href="https://google.com" target="_blank" class="btn-modal-register">
                    <i class="fas fa-external-link-alt"></i> Kaydol
                </a>
            </div>
        </div>
    </div>

    <script src="events-data.js"></script>
    <script>
        // Icons (Değişmedi)
        const categoryIcons = {
            'Siber Güvenlik': '<svg class="event-icon" viewBox="0 0 100 100"><path d="M50,10 L20,25 L20,50 C20,70 35,85 50,90 C65,85 80,70 80,50 L80,25 Z M45,60 L35,50 L40,45 L45,50 L60,35 L65,40 Z" fill="white"/></svg>',
            'Kriptoloji': '<svg class="event-icon" viewBox="0 0 100 100"><path d="M50,20 C35,20 23,32 23,47 L23,55 L20,55 L20,80 L80,80 L80,55 L77,55 L77,47 C77,32 65,20 50,20 Z M50,25 C62,25 72,35 72,47 L72,55 L28,55 L28,47 C28,35 38,25 50,25 Z M50,60 C54,60 57,63 57,67 C57,71 54,74 50,74 C46,74 43,71 43,67 C43,63 46,60 50,60 Z" fill="white"/></svg>',
            'Okul Öncesi': '<svg class="event-icon" viewBox="0 0 100 100"><circle cx="50" cy="35" r="15" fill="white"/><path d="M50,52 C35,52 25,60 25,70 L25,85 L75,85 L75,70 C75,60 65,52 50,52 Z M35,20 L45,15 L45,25 Z M65,20 L55,15 L55,25 Z" fill="white"/></svg>',
            'Sanat': '<svg class="event-icon" viewBox="0 0 100 100"><path d="M20,80 L30,20 L50,40 L70,20 L80,80 Z M35,50 L50,65 L65,50 Z" fill="white"/><circle cx="50" cy="30" r="5" fill="white"/></svg>',
            'Bilim': '<svg class="event-icon" viewBox="0 0 100 100"><path d="M35,20 L35,50 L25,70 C22,75 25,82 32,82 L68,82 C75,82 78,75 75,70 L65,50 L65,20 Z M40,25 L60,25 L60,48 L68,65 L32,65 L40,48 Z" fill="white"/><circle cx="50" cy="55" r="4" fill="white"/></svg>',
            'Yapay Zeka': '<svg class="event-icon" viewBox="0 0 100 100"><rect x="30" y="30" width="40" height="40" rx="5" fill="white"/><circle cx="42" cy="45" r="3" fill="currentColor"/><circle cx="58" cy="45" r="3" fill="currentColor"/><path d="M40,58 Q50,62 60,58" stroke="currentColor" fill="none" stroke-width="2"/><rect x="20" y="20" width="10" height="10" fill="white"/><rect x="70" y="20" width="10" height="10" fill="white"/><rect x="20" y="70" width="10" height="10" fill="white"/><rect x="70" y="70" width="10" height="10" fill="white"/></svg>',
            'Oyun': '<svg class="event-icon" viewBox="0 0 100 100"><path d="M70,35 L55,35 L55,25 L45,25 L45,35 L30,35 C22,35 15,42 15,50 C15,58 22,65 30,65 L70,65 C78,65 85,58 85,50 C85,42 78,35 70,35 Z" fill="white"/><circle cx="35" cy="50" r="4" fill="currentColor"/><circle cx="65" cy="50" r="4" fill="currentColor"/></svg>',
            'Drama': '<svg class="event-icon" viewBox="0 0 100 100"><path d="M50,15 C30,15 15,30 15,50 C15,70 30,85 50,85 C70,85 85,70 85,50 C85,30 70,15 50,15 Z M35,40 C38,40 40,42 40,45 C40,48 38,50 35,50 C32,50 30,48 30,45 C30,42 32,40 35,40 Z M65,40 C68,40 70,42 70,45 C70,48 68,50 65,50 C62,50 60,48 60,45 C60,42 62,40 65,40 Z M35,60 Q50,70 65,60" fill="white" stroke="white"/></svg>',
            'Söyleşi': '<svg class="event-icon" viewBox="0 0 100 100"><path d="M20,30 C20,15 35,5 50,5 C65,5 80,15 80,30 C80,45 65,55 50,55 C45,55 40,53 35,51 L20,60 L23,45 C21,41 20,36 20,30 Z" fill="white"/><circle cx="40" cy="30" r="4" fill="#2874A6"/><circle cx="50" cy="30" r="4" fill="#2874A6"/><circle cx="60" cy="30" r="4" fill="#2874A6"/></svg>',
            'default': '<svg class="event-icon" viewBox="0 0 100 100"><circle cx="50" cy="50" r="35" fill="white"/><path d="M50,25 L55,40 L70,40 L58,50 L63,65 L50,55 L37,65 L42,50 L30,40 L45,40 Z" fill="currentColor"/></svg>'
        };

        function getEventIcon(tags) {
            for (let tag of tags) {
                if (categoryIcons[tag]) { return categoryIcons[tag]; }
            }
            return categoryIcons['default'];
        }

        // --- YENİ FİLTRELEME MANTIĞI ---

        // Seçili filtreleri tutan değişkenler
        let selectedMainFilter = null; // Etkinlik, Söyleşi, Sergi
        let selectedCategoryFilter = null; // Siber Güvenlik, vb.

        function renderEvents() {
            const grid = document.getElementById('eventsGrid');
            grid.innerHTML = '';
            
            // Filtreleme Kontrolü
            const filteredEvents = events.filter(event => {
                // 1. Ana Tür Kontrolü (Varsa)
                if (selectedMainFilter && !event.tags.includes(selectedMainFilter)) {
                    return false;
                }
                // 2. Kategori Kontrolü (Varsa)
                if (selectedCategoryFilter && !event.tags.includes(selectedCategoryFilter)) {
                    return false;
                }
                return true;
            });

            if (filteredEvents.length === 0) {
                grid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #666;">Seçilen kriterlere uygun etkinlik bulunamadı.</div>';
                return;
            }

            filteredEvents.forEach(event => {
                const card = document.createElement('div');
                card.className = 'event-card';
                card.onclick = () => openModal(event.id);
                
                const tagsHTML = event.tags.map(tag => `<span class="event-tag">${tag}</span>`).join('');
                const icon = getEventIcon(event.tags);
                
                card.innerHTML = `
                    <div class="event-image">${icon}</div>
                    <div class="event-content">
                        <div class="event-tags">${tagsHTML}</div>
                        <h3 class="event-title">${event.title}</h3>
                        <div class="event-meta">
                            <div class="meta-row"><i class="fas fa-user-tie meta-icon"></i><span>${event.leader}</span></div>
                            <div class="meta-row"><i class="fas fa-users meta-icon"></i><span>${event.age}</span></div>
                            <div class="meta-row"><i class="fas fa-map-marker-alt meta-icon"></i><span>${event.location}</span></div>
                            <div class="meta-row"><i class="far fa-calendar-alt meta-icon"></i><span>${event.date}</span></div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Filtre Butonuna Tıklama İşlemi
        function toggleFilter(tag, type) {
            if (type === 'main') {
                // Eğer zaten seçili olana tıklandıysa kaldır, yoksa yeni seçimi yap
                if (selectedMainFilter === tag) {
                    selectedMainFilter = null;
                } else {
                    selectedMainFilter = tag;
                }
            } else if (type === 'category') {
                if (selectedCategoryFilter === tag) {
                    selectedCategoryFilter = null;
                } else {
                    selectedCategoryFilter = tag;
                }
            }
            
            updateFilterUI();
            renderEvents();
        }

        // UI Güncelleme (Active Sınıflarını Ayarla)
        function updateFilterUI() {
            // Tüm butonlardan active sınıfını temizle
            document.querySelectorAll('.filter-tag').forEach(btn => btn.classList.remove('active'));

            // Seçili olanlara active sınıfı ekle
            if (selectedMainFilter) {
                const btn = document.querySelector(`.filter-tag[data-tag="${selectedMainFilter}"][data-type="main"]`);
                if(btn) btn.classList.add('active');
            }
            if (selectedCategoryFilter) {
                const btn = document.querySelector(`.filter-tag[data-tag="${selectedCategoryFilter}"][data-type="category"]`);
                if(btn) btn.classList.add('active');
            }
        }

        // Tüm Filtreleri Temizle
        function clearAllFilters() {
            selectedMainFilter = null;
            selectedCategoryFilter = null;
            updateFilterUI();
            renderEvents();
        }

        // Modal Functions (Değişmedi)
        function openModal(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            document.getElementById('modalTitle').textContent = event.title;
            document.getElementById('modalTags').innerHTML = event.tags.map(tag => `<span class="modal-tag">${tag}</span>`).join('');
            document.getElementById('modalInfoGrid').innerHTML = `
                <div class="info-item"><i class="fas fa-user-tie"></i><div class="info-item-content"><div class="info-label">Atölye Lideri</div><div class="info-value">${event.leader}</div></div></div>
                <div class="info-item"><i class="fas fa-users"></i><div class="info-item-content"><div class="info-label">Yaş Grubu</div><div class="info-value">${event.age}</div></div></div>
                <div class="info-item"><i class="fas fa-map-marker-alt"></i><div class="info-item-content"><div class="info-label">Konum</div><div class="info-value">${event.location}</div></div></div>
                <div class="info-item"><i class="far fa-calendar-alt"></i><div class="info-item-content"><div class="info-label">Tarih</div><div class="info-value">${event.date}</div></div></div>
                <div class="info-item"><i class="far fa-clock"></i><div class="info-item-content"><div class="info-label">Saat</div><div class="info-value">${event.time}</div></div></div>
            `;
            document.getElementById('modalDescription').innerHTML = event.description;
            document.getElementById('eventModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        function closeModal() {
            document.getElementById('eventModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        document.getElementById('eventModal').addEventListener('click', function(e) { if (e.target === this) closeModal(); });
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 50) header.classList.add('scrolled');
            else header.classList.remove('scrolled');
        });
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
            });
        });

        // Başlangıç
        renderEvents();
    </script>
</body>
</html>
